<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教師履歷填寫</title>
    <style>
        table {
    	    border-collapse: collapse;
   	     width: 100%;
    	}
    
    	th, td {
     	   border: 1px solid black;
     	   padding: 8px;
      	  text-align: left;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        .container {
            display: flex;
            width: 100%;
        }
        .left, .right {
            width: 50%;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .submit-btn:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>
<div class="right">
    <h2>學術、實務與教學貢獻清單</h2>
    <p>[中文姓名][職稱] 您好！</p>
    <p>以下清單列示您[t-5]-[t]年 (eg. 2019-2024年) 之：</p>
    <ul>
        <li>論著—期刊、會議論文、專書、個案、教學教材</li>
        <li>重要研究獎項</li>
        <li>參與專業/公共政策制定法案</li>
        <li>指導畢業的博士論文</li>
        <li>政府或產業計畫、國科會計畫</li>
    </ul>
    <p>請確認以下資料是否正確，如需修正，請直接點選欄位進行修改；如需新增內容，請點選「+」新增資料；刪除資料則勾選「刪除」即可。謝謝！</p>

    <!-- 學術、實務與教學貢獻清單表格 -->
    <table id="contribution-table">
        <thead>
            <tr>
                <th>類別</th>
                <th>年度</th>
                <th>名稱</th>
                <th>Journal名稱</th>
                <th>SSCI/SCI/TSSCI or equivalent</th>
                <th>與本院教授共同創作</th>
                <th>與本院學生或本校外院師生或校外人士共同創作</th>
                <th>屬性</th>
                <th>EQUIS分類</th>
                <th>刪除</th>
            </tr>
        </thead>
        <tbody>
            <tr>
            	<td>測試欄位</td>
            	<td>2021</td>
            	<td>Sample Paper</td>
            	<td>1</td>
            	<td>2</td>
            	<td>3</td>
            	<td>4</td>
            	<td>5</td>
            	<td>6</td>
            	<td><input type="checkbox" onchange="deleteRow(this)"></td>
            </tr>
        </tbody>
    </table>
    <button class="add-btn" onclick="addRow()">+</button>
    <button onclick="submitData()">確認</button>
</div>

<script>

    function addRow() {
        var table = document.getElementById("contribution-table").getElementsByTagName('tbody')[0];
        var newRow = table.insertRow(table.rows.length);
        
        var categoryCell = newRow.insertCell(0);
        var yearCell = newRow.insertCell(1);
        var nameCell = newRow.insertCell(2);
        var journalNameCell = newRow.insertCell(3);
        var ssciSciTssciCell = newRow.insertCell(4);
        var coProfessorCell = newRow.insertCell(5);
        var coStudentCell = newRow.insertCell(6);
        var attributeCell = newRow.insertCell(7);
        var equisClassificationCell = newRow.insertCell(8);
        
        // 添加輸入框
        categoryCell.innerHTML = '<select><option value="">請選擇類別</option><option value="期刊論文">期刊論文</option><option value="會議論文">會議論文</option><option value="研究報告">研究報告</option><option value="專書">專書</option><option value="專書篇章">專書篇章</option><option value="個案">個案</option><option value="獎項">獎項</option><option value="法案">法案</option><option value="指導畢業博士論文">指導畢業博士論文</option><option value="研究計畫">研究計畫</option></select>';
        yearCell.innerHTML = '<input type="number" placeholder="西元年">';
        nameCell.innerHTML = '<input type="text" placeholder="名稱">';
        journalNameCell.innerHTML = '<input type="text" placeholder="Journal名稱">';
        ssciSciTssciCell.innerHTML = '<select><option value="X">X</option><option value="O">O</option></select>';
        coProfessorCell.innerHTML = '<input type="text" placeholder="與本院教授共同創作">';
        coStudentCell.innerHTML = '<input type="text" placeholder="與本院學生或本校外院師生或校外人士共同創作">';
        attributeCell.innerHTML = '<select><option value="">請選擇屬性</option><option value="Basic_or_Discovery_Scholarship">Basic_or_Discovery_Scholarship</option><option value="Applied_or_Integration_Application_Scholarship">Applied_or_Integration_Application_Scholarship</option><option value="Teaching_and_Learning_Scholarship">Teaching_and_Learning_Scholarship</option></select>';
        equisClassificationCell.innerHTML = '<select><option value="">請選擇EQUIS分類</option><option value="E1">E1</option><option value="E2">E2</option><option value="E3">E3</option><option value="E4">E4</option><option value="E5">E5</option><option value="E6">E6</option><option value="E7">E7</option><option value="E8">E8</option><option value="E9">E9</option><option value="E10">E10</option><option value="E11">E11</option><option value="E12">E12</option><option value="E13">E13</option><option value="E14">E14</option><option value="E15">E15</option></select>';
        deleteCell.innerHTML = '<input type="checkbox" onchange="deleteRow(this)">';
    }

    function submitData() {
        // 獲取表格資料
        var data = [];
        var table = document.getElementById("contribution-table");
        for (var i = 1; i < table.rows.length; i++) {
            var row = table.rows[i];
            var rowData = {
                category: row.cells[0].getElementsByTagName('input')[0].value,
                year: row.cells[1].getElementsByTagName('input')[0].value,
                name: row.cells[2].getElementsByTagName('input')[0].value,
                journalName: row.cells[3].getElementsByTagName('input')[0].value,
                ssciSciTssci: row.cells[4].getElementsByTagName('input')[0].value,
                coProfessor: row.cells[5].getElementsByTagName('input')[0].value,
                coStudent: row.cells[6].getElementsByTagName('input')[0].value,
                attribute: row.cells[7].getElementsByTagName('input')[0].value,
                equisClassification: row.cells[8].getElementsByTagName('input')[0].value,
            };
            data.push(rowData);
        }
    }
    </script>
    
    <script>
        const formData = JSON.parse(localStorage.getItem('formData'));
        console.log(formData);
    </script>
</body>
</html>