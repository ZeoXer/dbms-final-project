<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>教師履歷填寫</title>
    <style>
        table {
    	    border-collapse: collapse;
   	     width: 100%;
    	}
    
    	th, td {
     	   border: 1px solid black;
     	   padding: 8px;
      	  text-align: left;
        }
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            margin: 0;
            padding: 20px;
        }
        .container {
            display: flex;
            width: 100%;
        }
        .left, .right {
            width: 50%;
            padding: 20px;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
        }
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
        }
        .submit-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
        .submit-btn:hover {
            background-color: #45a049;
        }
        
        .info-container {
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 左側表單 -->
        <div class="left">
            <h2>基本資料與近一年社會影響力</h2>
            <div class="info-container">
                <p> <span id="CName1"></span></p>
                <p> <span id="jobtitle"></span></p>
                <p> 您好：</p>
            </div>
            <p>請確認以下基本資料是否正確，如需修正，請直接點選欄位進行修改；「近一年」相關問項，請以[t-1].08.01-[t].07.31 (eg. 2023.08.01-2024.07.31) 之經歷填入。謝謝！</p>
            <div class="form-group">
                <label for="teacher-id">教師編號</label>
                <input type="text" id="teacher_id" name="teacher-id" //value= readonly>
            </div>
            <div class="form-group">
                <label for="chinese-name">中文姓名</label>
                <input type="text" id="Cname" name="chinese-name" //value= readonly>
            </div>
            <div class="form-group">
                <label for="english-name">英文姓名</label>
                <input type="text" id="Ename" name="english-name" //value="" readonly>
            </div>
            <div class="form-group">
                <label for="title">職稱</label>
                <select id="title" name="title">
                    <option value="Professor">Professor 教授</option>
                    <option value="Associate Professor">Associate Professor 副教授</option>
                    <option value="Assistant Professor">Assistant Professor 助理教授</option>
                    <option value="Instructor">Instructor 講師</option>
                </select>
            </div>
            <div class="form-group">
                <label for="join-year">到職年</label>
                <input type="text" id="year" name="join-year" //value="" readonly>
            </div>
            <div class="form-group">
                <label for="department">系所</label>
                <input type="text" id="dep_id" name="department" //value="" readonly>
            </div>
            <div class="form-group">
                <label for="discipline">學群</label>
                <select id="discipline" name="discipline">
                    <option value="Accounting">Accounting</option>
                    <option value="Actuarial Science">Actuarial Science</option>
                    <option value="Behavioral Science / Organizational Behavior">Behavioral Science / Organizational Behavior</option>
                    <option value="Business Communication">Business Communication</option>
                    <option value="Business Education">Business Education</option>
                    <option value="Business Ethics - incl Corporate Social Responsibility">Business Ethics - incl Corporate Social Responsibility</option>
                    <option value="Business Law / Legal Enviroment">Business Law / Legal Enviroment</option>
                    <option value="Computer or, Management Information Systems">Computer or, Management Information Systems</option>
                    <option value="Consulting">Consulting</option>
                    <option value="Data Analytics">Data Analytics</option>
                    <option value="E-Business - incl Economics">E-Business - incl Economics</option>
                    <option value="Economics / Managerial Economics">Economics / Managerial Economics</option>
                    <option value="Entrepreneurship / Small Business Admin">Entrepreneurship / Small Business Admin</option>
                    <option value="Finance - incl Banking">Finance - incl Banking</option>
                    <option value="General Business">General Business</option>
                    <option value="HR Mgt - incl Personnel & Ind / Labor Relations">HR Mgt - incl Personnel & Ind / Labor Relations</option>
                    <option value="Insurance">Insurance</option>
                    <option value="Intellectual Property">Intellectual Property</option>
                    <option value="International Business">International Business</option>
                    <option value="Management">Management</option>
                    <option value="Manufacturing and Technology Management">Manufacturing and Technology Management</option>
                    <option value="Marketing">Marketing</option>
                    <option value="Operations Research">Operations Research</option>
                    <option value="Production / Operations Management">Production / Operations Management</option>
                    <option value="Public Administration">Public Administration</option>
                    <option value="Quantitative Methods">Quantitative Methods</option>
                    <option value="Real Estate">Real Estate</option>
                    <option value="Statistics">Statistics</option>
                    <option value="Strategic Management">Strategic Management</option>
                    <option value="Supply Chain / Transport / Logistics">Supply Chain / Transport / Logistics</option>
                    <option value="Taxation">Taxation</option>
                </select>
            </div>
            <div class="form-group">
                <label for="highest-degree">最高學位</label>
                <select id="highest-degree" name="highest-degree">
                    <option value="PhD">PhD 博士</option>
                    <option value="TAX">TAX 稅法碩士</option>
                    <option value="A+L">A+L 會計及法律雙碩士</option>
                    <option value="ABD">ABD 博士候選人</option>
                    <option value="Master">Master 碩士</option>
                    <option value="Bachelor">Bachelor 學士</option>
                    <option value="Other">Other 其他</option>
                </select>
            </div>
            <div class="form-group">
                <label for="degree-department">最高學位系所</label>
                <input type="text" id="degree-department" name="degree-department">
            </div>
            <div class="form-group">
                <label for="degree-school">最高學位校名</label>
                <input type="text" id="degree-school" name="degree-school">
            </div>
            <div class="form-group">
                <label for="degree-year">取得最高學位年份</label>
                <input type="number" id="degree-year" name="degree-year">
            </div>
            <div class="form-group">
                <label for="experience">經歷</label>
                <textarea id="experience" name="experience"></textarea>
            </div>
            <div class="form-group">
                <label for="teaching-interests">教學興趣</label>
                <textarea id="teaching-interests" name="teaching-interests"></textarea>
            </div>
            <div class="form-group">
                <label for="research-interests">研究興趣</label>
                <textarea id="research-interests" name="research-interests"></textarea>
            </div>
            <div class="form-group">
                <label for="admin-position">近一年擔任行政職務</label>
                <select id="admin-position" name="admin-position">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="executive-class">近一年教授高管班(指無學位的課程)，如：企家班。</label>
                <select id="executive-class" name="executive-class">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="other-services">近一年教學責任-其他服務，如：借調、期刊編輯、主編、審稿</label>
                <select id="other-services" name="other-services">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="secondment">近一年借調至產學界或政府機關</label>
                <select id="secondment" name="secondment">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="industry-interaction">近一年參與產業界的活動或與產業界主管有聯繫互動</label>
                <select id="industry-interaction" name="industry-interaction">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="industry-participation">近一年參與產業經營或擔任專業職務</label>
                <select id="industry-participation" name="industry-participation">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="association-position">近一年於學會/協會組織擔任高階職務</label>
                <select id="association-position" name="association-position">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="association-activity">近一年參與學會/協會團體組織之活動</label>
                <select id="association-activity" name="association-activity">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="long-term-consulting">近一年長期提供企業諮詢（一年以上）</label>
                <select id="long-term-consulting" name="long-term-consulting">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="board-position">近一年擔任董事會（理事會）/監察人（監事）相關職務</label>
                <select id="board-position" name="board-position">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="business-education">近一年具商管教育經歷並持續累積中</label>
                <select id="business-education" name="business-education">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="academic-industry-activity">近一年參與學術/業界相關之活動/社群/學會/協會</label>
                <select id="academic-industry-activity" name="academic-industry-activity">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="industry-position">近一年於業界擔任重要職務</label>
                <select id="industry-position" name="industry-position">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="full-part-time-industry">近一年具有產業界全職或兼職之工作</label>
                <select id="full-part-time-industry" name="full-part-time-industry">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="business-owner">近一年企業主、合夥人、或專業經理人</label>
                <select id="business-owner" name="business-owner">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="active-in-industry">近一年業界活躍人士</label>
                <select id="active-in-industry" name="active-in-industry">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="professional-certification">會計師、律師或擁有其他專業證照</label>
                <select id="professional-certification" name="professional-certification">
                    <option value="0">0</option>
                    <option value="1">1</option>
                </select>
            </div>
            <div class="form-group">
                <label for="fill-year">填寫年份</label>
                <input type="text" id="fill-year" name="fill-year" //value="" >
            </div>
            <button type="button" onclick="saveDataAndGoToNextPage()">下一頁</button>
        </div>


<script>
    //  載入頁面後，自動填入教師基本資訊
    document.addEventListener('DOMContentLoaded', function () {
        
        // 獲取 URL 中的 teacher_id 參數
        const urlParams = new URLSearchParams(window.location.search);
        const userId = urlParams.get('teacher_id');

        fetch('./testTeacherProfile.json')
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            return response.json();
        })

        .then(data => {
            
            const user = data.find(user => user.teacher_id == userId);
            if (user) {
                document.getElementById('dep_id').value = user.dep_id;
                document.getElementById('teacher_id').value = user.teacher_id;
                document.getElementById('Cname').value = user.Cname;
                document.getElementById('Ename').value = user.Ename;
                document.getElementById('year').value = user.year;

                document.getElementById('CName1').textContent = user.Cname;
                if (user.job_title == 'Professor'){
                    document.getElementById('jobtitle').textContent = "教授"
                }
                else if (user.job_title == "Assistant Professor"){
                    document.getElementById('jobtitle').textContent = "助理教授"
                }
                else if (user.job_title == "Associate Professor"){
                    document.getElementById('jobtitle').textContent = "副教授"
                }
                else if (user.job_title == "Instructor"){
                    document.getElementById('jobtitle').textContent = "講師"
                }

            }
            else {
                alert('Teacher ID not found. Please login again.');
                window.location.href = 'login.html';
            }
        
            })
        .catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
    });
</script>

<script>
    function saveDataAndGoToNextPage() {
        const dep_id = document.getElementById('dep_id').value;
        const teacher_id = document.getElementById('teacher_id').value;
        const Cname = document.getElementById('Cname').value;
        const Ename = document.getElementById('Ename').value;
        const year = document.getElementById('year').value;
        const data = { dep_id, teacher_id, Cname, Ename, year };
        localStorage.setItem('formData', JSON.stringify(data));
        window.location.href = 'contribute_list.html';
    }
</script>
</body>
</html>
